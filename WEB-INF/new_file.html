<!DOCTYPE html>
<html>

	<head lang="en">
		<meta charset="UTF-8">
		<title>全选框</title>
		<style>
			a {
				text-decoration: none;
			}
		</style>
	</head>

	<body>
		<form>
			<table cellpadding="5px" cellspacing="0px" style="background: url('images/list_bg.gif') no-repeat;" align="center">
				<!--表头分类部分-->
				<tr style="height: 65px;" valign="bottom">
					<th><input type="checkbox" name="cb" onclick="qx()" />全选</th>
					
				</tr>
				<!--内容商品第一行-->
				
				<tr>
					<td><input type="checkbox" name="cb" onclick="cx()" /></td>
					
				</tr>
				
				<tr>
					<td><input type="checkbox" name="cb" onclick="cx()" /></td>
					
				</tr>
				
				<tr>
					<td><input type="checkbox" name="cb" onclick="cx()" /></td>
					
				</tr>
				
				<tr>
					<td><input type="checkbox" name="cb" onclick="cx()" /></td>
					
				</tr>
			</table>
		</form>
	</body>
	<script>
		function qx() {
			var cb = document.getElementsByName("cb");
			for(var i = 0; i < cb.length; i++) {
				if(cb[0].checked) {
					cb[i + 1].checked = true;
				} else {
					cb[i + 1].checked = false;
				}
			}
		}

		function cx() {
			var cb = document.getElementsByName("cb");
			for(var i = 0; i < cb.length; i++) {
				if(cb[0].checked) {
					for(var i = 0; i < cb.length; i++) {
						if(cb[i].checked == false) {
							cb[0].checked = false;
						}
					}
				} else {
					if(cb[i].checked == true && cb[i + 1].checked == true) {
						cb[0].checked = true;
					}
				}
			}
		}
	</script>

</html>